<html>
    <head>
        <title>LLM text detector</title>
        <script src="./LZMA-JS/src/lzma_worker.js" type="application/javascript"></script>
    </head>
    <body onload="">
        <div style="text-align: center; font-family: Arial, Helvetica, sans-serif;">
            <h1>LZMA-based LLM text classifier</h1>
            <textarea id="text_input" placeholder="Put text to classify in here..." style="width: 75%; height: 25%;"></textarea><br /><br />
            <input type="text" id="preset_value" size="1" disabled/><button onclick="time_do_detect();" id="processbtn">Click here to classify!</button><br /><br />
            <span id="output_span">The results will appear here!</span>
        </div>
        <script type="application/javascript">
            async function time_do_detect() {
                const ilen = document.getElementById("text_input").value.length;
                document.getElementById("output_span").innerText = "Processing...";
                document.getElementById("processbtn").disabled = true;
                document.getElementById("processbtn").innerText = "Processing...";
                const start = Date.now();
                do_detect();
                const end = Date.now();
                document.getElementById("processbtn").disabled = false;
                document.getElementById("processbtn").innerText = "Click here to classify!";
                console.log("Processing " + ilen + " bytes took " + (end - start) + " ms");
            }
        </script>
        <script src="./src/nlzmadetect.js" type="application/javascript"></script>
    </body>
</html>